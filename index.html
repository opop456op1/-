<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>สุ่มสายอาชีพ</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 50px;
      background-color: #f2f2f2;
    }

    h1 {
      color: #333;
    }

    button {
      background-color: #4CAF50;
      color: white;
      padding: 15px 32px;
      font-size: 16px;
      border: none;
      cursor: pointer;
      margin-top: 20px;
    }

    button:hover {
      background-color: #45a049;
    }

    .result {
      font-size: 24px;
      font-weight: bold;
      margin-top: 20px;
      color: #333;
    }

    .percentage {
      font-size: 18px;
      color: #555;
    }
  </style>
</head>
<body>

  <h1>ระบบสุ่มสายอาชีพ</h1>
  <button onclick="generateJob()">สุ่ม 1 ครั้ง</button>

  <div class="result" id="result"></div>
  <div class="percentage" id="percentage"></div>

  <script>
    // สายอาชีพและเปอร์เซ็นต์ที่กำหนดให้
    const jobs = [
      { name: "นักดาบ", probability: 10 },
      { name: "แทงค์", probability: 15 },
      { name: "นักเวทย์", probability: 10 },
      { name: "นักฆ่า", probability: 8 },
      { name: "ซับพรอต", probability: 12 },
      { name: "นักรบ (ดาบใหญ่)", probability: 10 },
      { name: "ฮิวเลอร์", probability: 7 },
      { name: "เนโคแมนเซอร์", probability: 6 },
      { name: "นักอัณเชิญ", probability: 5 },
      { name: "ผู้ใช้พลังภูต", probability: 7 },
      { name: "เทมเมอร์", probability: 5 },
      { name: "พลังจิต", probability: 7 }
    ];

    function generateJob() {
      // คำนวณค่ารวมเปอร์เซ็นต์ทั้งหมด
      const totalProbability = jobs.reduce((sum, job) => sum + job.probability, 0);

      // สุ่มเลข 0 ถึง totalProbability เพื่อเลือกสายอาชีพตามเปอร์เซ็นต์
      const randomNum = Math.floor(Math.random() * totalProbability);

      let sum = 0;
      for (let i = 0; i < jobs.length; i++) {
        sum += jobs[i].probability;
        if (randomNum < sum) {
          // แสดงผลสายอาชีพที่ถูกสุ่ม
          document.getElementById("result").innerText = `สายอาชีพ: ${jobs[i].name}`;
          // แสดงเปอร์เซ็นต์
          document.getElementById("percentage").innerText = `เปอร์เซ็นต์: ${jobs[i].probability}%`;
          break;
        }
      }
    }
  </script>

</body>
</html>